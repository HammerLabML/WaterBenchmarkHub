<!doctype html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html;charset=UTF8">
        <link rel="icon" type="image/x-icon" href="../static/favicon.ico">
  
        <link type="text/css" rel="stylesheet" href="../static/libs/bootstrap.min.css"/>

        <script src="../static/js/database.js"></script>
        <link type="text/css" rel="stylesheet" href="../static/css/styles.css"/>

        <title>{{ page.title }}</title>
    </head>
    <body>
        <div>
            <nav class="navbar navbar-expand-lg navbar-dark background-layer">
                <div class="navbar-brand">
                    <img src="../static/favicon.ico" alt="" width="30" height="30"></a>
                    WaterBenchmarkHub
                </div>
    
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="../">
                                Benchmarks
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://water-benchmark-hub.readthedocs.io/en/latest/">
                                Documentation
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="https://github.com/WaterFutures/WaterBenchmarkHub">
                                <img src="../static/github.svg">
                                BenchmarkHub on GitHub
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
       
        <div class="container-fluid">
            <div class="row">
                <div class="col background-layer-light min-vh-100">
                    <div class="row">
                        <div class="col">
                            <h4>{{ page.title }}</h4>
                        </div>   
                    </div>

                    <div class="row">
                        <div class="col">
                            <i>Year: </i>
                            <span class="badge badge-pill badge-info" id="benchmarkYear"></span>
                        </div>
                    </div>

                    <div class="row mt-1">
                        <div class="col">
                            <i>DOI: </i>
                            <a href="#" class="badge badge-pill badge-primary" id="benchmarkDOI"></a>
                        </div>
                    </div>
                    <div class="row mt-1">
                        <div class="col">
                            <i>License: </i>
                            <span class="badge badge-pill badge-info" id="benchmarkLicense"></span> 
                        </div>  
                    </div>
                    <div class="row mt-1">
                        <div class="col">
                            <i>Link: </i>
                            <a href="#" class="badge badge-pill badge-primary" id="benchmarkExternalURL">External webpage</a>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <div class="col">
                            <a href="#" class="btn btn-primary btn-sm" role="button" id="benchmarkDownloadUrl">Download</a>
                        </div>
                    </div>
                </div>
                <div class="col-10">
                    {{ content }}
                </div>
            </div>
        </div>

        <footer class="text-center text-white background-layer fixed-bottom">
            <div class="text-center text-white p-3">
                Â© 2024 Water Benchmark Hub Developers
            </div>
        </footer>

        <script>
            var benchmarkID = "{{ page.id }}"
            new Database().getDatabase("../").then(database => {
                var benchmark = database.resources[benchmarkID];

                document.getElementById("benchmarkYear").innerText = benchmark.year;
                document.getElementById("benchmarkDownloadUrl").setAttribute("href", benchmark.download_url);

                if(benchmark.license == undefined) {
                    var element = document.getElementById("benchmarkLicense");
                    element.classList.add("badge-warning");
                    element.classList.remove("badge-info");
                    benchmark.license = "Not available";
                }
                document.getElementById("benchmarkLicense").innerText = benchmark.license;

                if(benchmark.doi == undefined) {
                    var element = document.getElementById("benchmarkDOI");
                    element.removeAttribute("href");
                    element.classList.add("badge-warning");
                    element.classList.remove("badge-primary");
                    element.innerText = "Not available";
                }
                else {
                    var element = document.getElementById("benchmarkDOI");
                    element.setAttribute("href", `https://doi.org/${benchmark.doi}`);
                    element.innerText = benchmark.doi;
                }

                if(benchmark.external_url == undefined) {
                    var element = document.getElementById("benchmarkExternalURL");
                    element.removeAttribute("href");
                    element.classList.add("badge-warning");
                    element.classList.remove("badge-primary");
                    element.innerText = "Not available";
                }
                else {
                    document.getElementById("benchmarkExternalURL").setAttribute("href", benchmark.external_url);
                }
            });
        </script>
    </body>
</html>